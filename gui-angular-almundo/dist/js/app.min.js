!function(){"use strict";angular.module("almundo",["ngRoute","almundo.hotelControler","angularSpinner"]),angular.module("almundo").constant("urlRest","http://localhost:3000/api"),angular.module("almundo").constant("image_static","http://localhost:3000/images/hotels/"),angular.module("almundo").constant("icons","http://localhost:3000/icons/amenities/"),angular.module("almundo").constant("star","http://localhost:3000/icons/filters/")}(),function(){"use strict";angular.module("almundo").config(function($routeProvider){$routeProvider.when("/",{templateUrl:"views/hoteles/hoteles.html",controller:"mainCtrl",controllerAs:"mainCtrl"}).otherwise({redirectTo:"/"})})}(),function(){"use strict";angular.module("almundo.hotelService",["ngResource"]),angular.module("almundo.hotelService").factory("hotelesService",function($resource,urlRest){return $resource(urlRest+"/hoteles",{},{getHotelByNombre:{url:urlRest+"/hoteles/:nombre",method:"GET",params:{nombre:"@nombre"},isArray:!0},getHotelByEstrellas:{url:urlRest+"/hoteles/estrellas",method:"POST",params:{},isArray:!0}})})}(),function(){"use strict";angular.module("almundo.hotelControler",["almundo.hotelService"]),angular.module("almundo.hotelControler").controller("mainCtrl",function(hotelesService,image_static,icons,star){var self=this;self.hoteles=[],self.rutaImagenes=image_static,self.amenities=icons,self.stars=star,self.estrellas={},self.oneStar=!1,self.twoStar=!1,self.threeStar=!1,self.fourStar=!1,self.fiveStar=!1,self.allStar=!1,self.showSpinner=!1,self.repeat=function(number){self.estrellas={};for(var i=1;i<=number;i++)self.estrellas[i]="star";return!0},hotelesService.query().$promise.then(function(data){self.hoteles=data},function(err){self.hoteles={}}),self.buscarPorEstrellas=function(array){hotelesService.getHotelByEstrellas(array).$promise.then(function(data){self.hoteles=data,self.showSpinner=!1},function(err){self.showSpinner=!1})},self.starBusqueda=[],self.clickStarAll=function(){self.showSpinner=!0,self.starBusqueda=[],1==self.allStar&&(self.starBusqueda.push(1),self.starBusqueda.push(2),self.starBusqueda.push(3),self.starBusqueda.push(4),self.starBusqueda.push(5),self.oneStar=!1,self.twoStar=!1,self.threeStar=!1,self.fourStar=!1,self.fiveStar=!1,self.buscarPorEstrellas(self.starBusqueda))},self.clickStar=function(){self.showSpinner=!0,self.starBusqueda=[],self.allStar=!1,1==self.oneStar&&self.starBusqueda.push(1),1==self.twoStar&&self.starBusqueda.push(2),1==self.threeStar&&self.starBusqueda.push(3),1==self.fourStar&&self.starBusqueda.push(4),1==self.fiveStar&&self.starBusqueda.push(5),self.buscarPorEstrellas(self.starBusqueda)},self.nombreHotel="",self.buscarPorNombre=function(){null==self.nombreHotel||self.nombreHotel.length<=0||hotelesService.getHotelByNombre({nombre:self.nombreHotel}).$promise.then(function(data){self.hoteles=data},function(err){self.hoteles={}})},self.validarVacio=function(){(null==self.nombreHotel||self.nombreHotel.length<=0)&&hotelesService.query().$promise.then(function(data){self.hoteles=data},function(err){self.hoteles={}})}})}();